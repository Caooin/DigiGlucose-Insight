# 前端功能说明

## 功能模块

### 1. 对话助手 💬
- **位置**: 左侧导航栏第一个选项
- **功能**: 
  - 与糖小智AI助手对话
  - 记录血糖数据（例如："我刚测了血糖，7.8"）
  - 记录饮食（例如："我午餐吃了牛肉面"）
  - 询问血糖状态（例如："这个数值高吗？"）
  - 健康科普（例如："什么是GI值？"）
  - 获取情感支持

### 2. 个人档案 👤
- **位置**: 左侧导航栏第二个选项
- **功能**:
  - 查看个人基本信息（年龄、性别、诊断类型）
  - 查看和编辑血糖目标区间
  - 设置空腹血糖目标范围
  - 设置餐后血糖目标范围

### 3. 血糖记录 📊
- **位置**: 左侧导航栏第三个选项
- **功能**:
  - 查看所有血糖测量记录
  - 显示测量时间、数值、单位
  - 显示测量类型（空腹/餐后等）
  - 显示风险等级（正常/中等/高风险/紧急）
  - 查看统计信息（总记录数、平均值、最高值、最低值）

### 4. 周报分析 📈
- **位置**: 左侧导航栏第四个选项
- **功能**:
  - 查看本周血糖管理报告
  - 统计数据汇总
  - 模式识别
  - 正面进展
  - 行动建议

## 使用流程

### 首次使用

1. **设置个人档案**
   - 点击"个人档案"
   - 点击"编辑档案"
   - 填写年龄、性别、诊断类型
   - 设置血糖目标区间
   - 点击"保存"

2. **记录血糖数据**
   - 点击"对话助手"
   - 输入："我刚测了血糖，7.8"
   - 系统会自动记录并分析

3. **查看记录**
   - 点击"血糖记录"查看所有记录
   - 点击"周报分析"查看本周总结

### 日常使用

1. **记录数据**
   - 在对话助手输入血糖值、饮食、运动等信息

2. **查看分析**
   - 在对话中询问："这个数值高吗？"
   - 查看周报了解本周情况

3. **调整目标**
   - 在个人档案中根据医生建议调整目标区间

## API接口说明

### 后端API端点

- `POST /api/chat` - 对话接口
- `GET /api/user-id?session_id=xxx` - 获取用户ID
- `GET /api/users/{user_id}/profile` - 获取用户档案
- `PUT /api/users/{user_id}/profile` - 更新用户档案
- `GET /api/users/{user_id}/glucose-readings` - 获取血糖记录
- `GET /api/users/{user_id}/weekly-report` - 获取周报

## 技术栈

- React 18
- Vite 5
- CSS3

## 样式特点

- 现代化设计
- 响应式布局
- 清晰的视觉层次
- 友好的用户体验

## 注意事项

1. **用户ID获取**: 首次访问时会自动创建用户，用户ID存储在session中
2. **数据刷新**: 各页面都有"刷新"按钮，可以手动刷新数据
3. **错误处理**: 如果API调用失败，会显示友好的错误提示
4. **数据格式**: 血糖值统一使用mmol/L单位显示

## 开发说明

### 文件结构

```
frontend/src/
├── App.jsx          # 主应用组件（包含导航和路由）
├── App.css          # 主应用样式
├── Chat.jsx         # 对话组件
├── Chat.css         # 对话样式
├── Profile.jsx      # 个人档案组件
├── GlucoseRecords.jsx  # 血糖记录组件
├── WeeklyReport.jsx    # 周报组件
└── main.jsx         # 入口文件
```

### 组件说明

- **App.jsx**: 主应用，包含侧边栏导航和内容区域
- **Chat.jsx**: 对话界面，嵌入在App中
- **Profile.jsx**: 个人档案管理
- **GlucoseRecords.jsx**: 血糖记录列表和统计
- **WeeklyReport.jsx**: 周报展示

### 状态管理

- 使用React Hooks（useState, useEffect）
- 用户ID通过props传递给子组件
- session_id存储在localStorage中

